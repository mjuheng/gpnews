<view><block wx:if="{{data.headImage!=''}}"><view class="banner"><image class="banner-img" src="{{data.headImage}}"></image><view class="banner-title">{{data.title}}</view></view></block><block wx:else><view class="article-meta" style="font-size:40rpx;color:rgb(0,0,0);">{{data.title}}</view></block><view class="article-meta"><text class="article-author">{{data.username}}</text><text class="article-text">发表于</text><text class="article-time">{{$root.m0}}</text><text class="article-text">{{"阅读"+(" "+data.readNum)}}</text><block wx:if="{{userInfo!=''&&userInfo.id!=data.userId}}"><view><block wx:if="{{isFan}}"><button class="article-text" size="mini" plain data-event-opts="{{[['tap',[['delFan',['$event']]]]]}}" bindtap="__e">取消关注</button></block><block wx:else><button class="article-text" size="mini" plain data-event-opts="{{[['tap',[['addFan',['$event']]]]]}}" bindtap="__e">+关注</button></block></view></block></view><view class="article-content"><view><rich-text nodes="{{data.content}}"></rich-text></view></view><view class="uni-padding-wrap"><view style="font-size:30rpx;margin-top:15rpx;">{{'评论 ( '+data.commentNum+' )'}}</view><view class="uni-comment"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><view class="uni-comment-list"><view class="uni-comment-face"><image src="{{item.$orig.userPhoto}}" mode="widthFix"></image></view><view class="uni-comment-body"><view class="uni-comment-top"><text>{{item.$orig.username}}</text></view><view data-event-opts="{{[['tap',[['showCommInput',['$0'],[[['commentData','',idx]]]]]]]}}" class="uni-comment-content" bindtap="__e">{{item.$orig.content}}</view><view class="uni-comment-date"><view>{{item.m1}}</view><block wx:if="{{item.$orig.userId==currUserId||data.userId==currUserId}}"><view data-event-opts="{{[['tap',[['delReply',['$0'],[[['commentData','',idx,'id']]]]]]]}}" class="uni-comment-replay-btn" bindtap="__e">删除</view></block><block wx:if="{{item.$orig.children&&item.$orig.children.length}}"><view data-event-opts="{{[['tap',[['tapReply',['$0',idx],[[['commentData','',idx]]]]]]]}}" class="uni-comment-replay-btn" bindtap="__e">{{item.$orig.children.length+"  "+"回复"}}</view></block></view><block wx:for="{{item.l0}}" wx:for-item="item2" wx:for-index="idx2" wx:key="idx2"><block wx:if="{{idx==index}}"><view class="uni-comment-list"><view class="uni-comment-face"><image src="{{item2.$orig.userPhoto}}" mode="widthFix"></image></view><view class="uni-comment-body"><view class="uni-comment-top"><text>{{item2.$orig.username}}</text></view><view class="uni-comment-content">{{item2.$orig.content}}</view><view class="uni-comment-date"><view>{{item2.m2}}</view><block wx:if="{{item.$orig.userId==currUserId&&data.userId==currUserId}}"><view data-event-opts="{{[['tap',[['delReply',['$0'],[[['commentData','',idx,'id']]]]]]]}}" class="uni-comment-replay-btn" bindtap="__e">删除</view></block></view></view></view></block></block></view></view></block></view><block wx:if="{{showBtnType==1}}"><view class="bottom"><view class="input-box"><text class="yticon icon-huifu"></text><input class="input" type="text" placeholder="{{commentInputTitle}}" placeholder-style="color:#adb1b9;" focus data-event-opts="{{[['blur',[['changeBtnType',[0]]]],['confirm',[['commitComment',['$event']]]],['input',[['__set_model',['$0','content','$event',[]],['queryComment']]]]]}}" value="{{queryComment.content}}" bindblur="__e" bindconfirm="__e" bindinput="__e"/></view></view></block><block wx:if="{{showBtnType==0}}"><view class="uni-form-item uni-column btn btnBar"><view data-event-opts="{{[['tap',[['handleOpenComment',['$event']]]]]}}" class="iconfont icon-pinglun" style="margin-left:75rpx;" bindtap="__e"></view><block wx:if="{{isFavorites}}"><view data-event-opts="{{[['tap',[['commitFavorites',['$event']]]]]}}" class="iconfont icon-shoucang1" style="margin-left:220rpx;" bindtap="__e"></view></block><block wx:else><view data-event-opts="{{[['tap',[['commitFavorites',['$event']]]]]}}" class="iconfont icon-guanzhu" style="margin-left:220rpx;" bindtap="__e"></view></block><button class="shareBtn" style="border:0 none;position:relative;left:-10rpx;" plain open-type="share" data-event-opts="{{[['tap',[['commitShare',['$event']]]]]}}" bindtap="__e"><view data-event-opts="{{[['tap',[['commitShare',['$event']]]]]}}" class="iconfont icon-fenxiang" style="margin-left:220rpx;" bindtap="__e"></view></button></view></block></view><uni-load-more vue-id="1" status="{{status}}" icon-size="{{16}}" content-text="{{contentText}}" bind:__l="__l"></uni-load-more><view style="padding-top:70rpx;"></view></view>